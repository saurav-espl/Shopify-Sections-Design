<style>
.section-{{ section.id }}-spacing {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
    margin-top: {{ section.settings.margin_top | times: 0.75 | round: 0 }}px;
    margin-bottom: {{ section.settings.margin_bottom | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-spacing {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
      margin-top: {{ section.settings.margin_top }}px;
      margin-bottom: {{ section.settings.margin_bottom }}px;
    }
  }
.custom-image-with_text--{{ section.id }} {
  background-color: {{ section.settings.background_color }};
  color: {{ section.settings.text_color }};
  position: relative;
  overflow: hidden;
}
.custom-image-with_text--{{ section.id }} h2 {
  font-size: {{ section.settings.heading_size }}px;
  font-weight: {{ section.settings.heading_weight }};
  color: {{ section.settings.heading_color }};
  margin-bottom: 15px;
}
.custom-image-with_text--{{ section.id }} p {
  font-size: {{ section.settings.text_size }}px;
  color: {{ section.settings.text_color }};
}
.custom-image-with_text-container {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  gap: 20px;
  margin-bottom: 40px;
  position: relative;
  z-index: 2;
}
.custom-image-with_text-container.image-right {
  flex-direction: row-reverse;
}
.custom-image-with_text-container.image-right .custom-image-with_text-content_box {
  left: 200px;
}
.custom-image-with_text-container.image-left .custom-image-with_text-content_box {
  right: 200px;
}
.custom-image-with_text-Image_box {
  width: 60%;
}
.custom-image-with_text-Image_box img {
  width: 100%;
  border-radius: 10px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}
.custom-image-with_text--{{ section.id }} .custom-image-with_text-content_box {
  background: {{ section.settings.content_bg_color }};
  padding: 30px;
  border-radius: 10px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
  position: absolute;
  max-width: 35%;
}
.custom-image-with_text--{{ section.id }} .custom-image-with_text-content_box h3 {
  font-size: {{ section.settings.content_heading_size }}px;
  font-weight: {{ section.settings.content_heading_weight }};
  color: {{ section.settings.content_heading_color }};
  margin-bottom: 15px;
}
.custom-image-with_text--{{ section.id }} .custom-image-with_text-content_box p {
  font-size: {{ section.settings.content_text_size }}px;
  color: {{ section.settings.content_text_color }};
  margin-bottom: 20px;
}
.custom-image-with_text--{{ section.id }} .custom-image-with_text-btn {
  display: inline-block;
  background-color: {{ section.settings.button_bg }};
  color: {{ section.settings.button_text_color }};
  padding: 12px 24px;
  border-radius: 25px;
  text-decoration: none;
  font-weight: 600;
  transition: all 0.3s ease;
  margin-top: 10px;
  font-size: {{ section.settings.button_text_size }}px;
}
.custom-image-with_text-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

/* Customer Service Block Specific Styles */
.custom-image-with_text--{{ section.id }} .customer-service-block {
  background: {{ section.settings.customer_service_bg | default: "#f8f9fa" }};
  padding: 40px;
  border-radius: 10px;
  text-align: center;
  margin: 40px 0;
  border-left: 4px solid {{ section.settings.customer_service_accent | default: "#ff5722" }};
}
.custom-image-with_text--{{ section.id }} .customer-service-block h3 {
  font-size: {{ section.settings.customer_service_heading_size | default: 24 }}px;
  color: {{ section.settings.customer_service_heading_color | default: "#000000" }};
  margin-bottom: 20px;
  font-weight: bold;
}
.custom-image-with_text--{{ section.id }} .customer-service-block p {
  font-size: {{ section.settings.customer_service_text_size | default: 16 }}px;
  color: {{ section.settings.customer_service_text_color | default: "#666666" }};
  line-height: 1.6;
  margin-bottom: 25px;
}
.custom-image-with_text--{{ section.id }} .customer-service-divider {
  width: 50px;
  height: 2px;
  background: {{ section.settings.customer_service_accent | default: "#ff5722" }};
  margin: 20px auto;
}
.custom-image-with_text--{{ section.id }} .customer-service-button {
  display: inline-block;
  background: {{ section.settings.customer_service_button_bg | default: "#ff5722" }};
  color: {{ section.settings.customer_service_button_text | default: "#ffffff" }};
  padding: 12px 30px;
  border-radius: 25px;
  text-decoration: none;
  font-weight: bold;
  font-size: {{ section.settings.customer_service_button_size | default: 16 }}px;
  transition: all 0.3s ease;
}
.customer-service-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

.custom-image-with_text--{{ section.id }} .decorative-image {
  position: absolute;
  z-index: 1;
}
.custom-image-with_text--{{ section.id }} .decorative-image img {
  max-width: {{ section.settings.decorative_image_size }}px;
  opacity: 0.8;
}
.decorative-top-left {
  top: -30px;
  left: -30px;
}
.decorative-top-right {
  top: -30px;
  right: -30px;
}
.decorative-bottom-left {
  bottom: -30px;
  left: -30px;
}
.decorative-bottom-right {
  bottom: -30px;
  right: -30px;
}
.text-container {
  text-align: center;
  position: relative;
  margin-bottom: 40px;
  z-index: 2;
}
@media(max-width: 1025px){
    .custom-image-with_text-container.image-right .custom-image-with_text-content_box{
        left: 50px;
        max-width: 50%;
    }
    .custom-image-with_text-container.image-left .custom-image-with_text-content_box {
        right: 50px;
        max-width: 50%;
    }
}
@media(max-width: 768px){
  .custom-image-with_text-container {
    flex-direction: column !important;
    text-align: center;
  }
  .custom-image-with_text--{{ section.id }} .decorative-image img {
    max-width: {{ section.settings.decorative_image_size | times: 0.5 | round: 0 }}px;
  }
  .customer-service-block {
    padding: 30px 20px;
    margin: 30px 0;
  }
  .custom-image-with_text-content_box{
    padding: 20px !important;
    margin-top: 10px !important;
    position: initial !important;
    max-width: 100% !important;
  }
  .custom-image-with_text-Image_box {
    width: 100%;
  }
  .custom-image-with_text-content_box h3{
    margin: 0px;
  }
}
</style>

<section class="custom-image-with_text custom-image-with_text--{{ section.id }} section-{{ section.id }}-spacing">
    <div class="page-width">
        {% if section.settings.decorative_image != blank and section.settings.decorative_position != "none" %}
            {% case section.settings.decorative_position %}
            {% when 'top-left' %}
                <div class="decorative-image decorative-top-left">
                  <img src="{{ section.settings.decorative_image | img_url: '1000x' }}" alt="Decorative Image" width="auto" height="auto">
                </div>
            {% when 'top-right' %}
                <div class="decorative-image decorative-top-right">
                  <img src="{{ section.settings.decorative_image | img_url: '1000x' }}" alt="Decorative Image" width="auto" height="auto">
                </div>
            {% when 'bottom-left' %}
                <div class="decorative-image decorative-bottom-left">
                  <img src="{{ section.settings.decorative_image | img_url: '1000x' }}" alt="Decorative Image" width="auto" height="auto">
                </div>
            {% when 'bottom-right' %}
                <div class="decorative-image decorative-bottom-right">
                  <img src="{{ section.settings.decorative_image | img_url: '1000x' }}" alt="Decorative Image" width="auto" height="auto">
                </div>
            {% when 'before' %}
                <div class="decorative-image" style="position: relative; text-align: center; margin-bottom: 20px;">
                  <img src="{{ section.settings.decorative_image | img_url: '1000x' }}" alt="Decorative Image" width="auto" height="auto">
                </div>
            {% when 'after' %}
                <div class="decorative-image" style="position: relative; text-align: center; margin-top: 20px;">
                  <img src="{{ section.settings.decorative_image | img_url: '1000x' }}" alt="Decorative Image" width="auto" height="auto">
                </div>
            {% endcase %}
        {% endif %}

        <div class="text-container">
            {% if section.settings.heading != blank %}
                <h2 class="text_title">{{ section.settings.heading }}</h2>
            {% endif %}
            {% if section.settings.subheading != blank %}
             <p class="text_desc">{{ section.settings.subheading }}</p>
            {% endif %}
        </div>

        {% for block in section.blocks %}
            {% if block.type == 'content_block' %}
            <div class="custom-image-with_text-container image-{{ block.settings.image_position }}">
                <div class="custom-image-with_text-Image_box">
                {% if block.settings.main_image != blank %}
                    <img src="{{ block.settings.main_image | img_url: '1500x' }}" alt="Gift Image" width="auto" height="auto">
                {% endif %}
                </div>
                <div class="custom-image-with_text-content_box">
                {% if block.settings.content_title != blank %}
                    <h3>{{ block.settings.content_title }}</h3>
                {% endif %}
                {% if block.settings.content_text != blank %}
                    <p>{{ block.settings.content_text }}</p>
                {% endif %}
                {% if block.settings.button_label != blank %}
                    <a href="{{ block.settings.button_link }}" class="custom-image-with_text-btn">
                    {{ block.settings.button_label }}
                    </a>
                {% endif %}
                </div>
            </div>
            {% endif %}

            {% if block.type == 'customer_service_block' %}
            <div class="customer-service-block">
                {% if block.settings.customer_service_heading != blank %}
                <h3>{{ block.settings.customer_service_heading }}</h3>
                {% endif %}
                {% if block.settings.customer_service_text != blank %}
                <p>{{ block.settings.customer_service_text }}</p>
                {% endif %}
                <div class="customer-service-divider"></div>
                {% if block.settings.customer_service_button_label != blank %}
                <a href="{{ block.settings.customer_service_button_link }}" class="customer-service-button">
                    {{ block.settings.customer_service_button_label }}
                </a>
                {% endif %}
            </div>
            {% endif %}
        {% endfor %}
    </div>
</section>

{% schema %}
{
  "name": "List of Images & Texts",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Make It Personal, Make It Memorable"
    },
    {
      "type": "range",
      "id": "heading_size",
      "label": "Heading Size",
      "min": 16,
      "max": 60,
      "step": 1,
      "default": 28
    },
    {
      "type": "select",
      "id": "heading_weight",
      "label": "Heading Weight",
      "options": [
        { "value": "300", "label": "Light" },
        { "value": "400", "label": "Normal" },
        { "value": "600", "label": "Semi Bold" },
        { "value": "700", "label": "Bold" }
      ],
      "default": "700"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading Color",
      "default": "#000000"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "Celebrate every moment with personalized photo gifts."
    },
    {
      "type": "range",
      "id": "text_size",
      "label": "Text Size",
      "min": 12,
      "max": 24,
      "step": 1,
      "default": 16
    },
    {
      "type": "image_picker",
      "id": "decorative_image",
      "label": "Decorative Image"
    },
    {
      "type": "range",
      "id": "decorative_image_size",
      "label": "Decorative Image Size",
      "min": 100,
      "max": 1000,
      "step": 10,
      "default": 200
    },
    {
      "type": "select",
      "id": "decorative_position",
      "label": "Decorative Image Position",
      "options": [
        { "value": "top-left", "label": "Top Left" },
        { "value": "top-right", "label": "Top Right" },
        { "value": "bottom-left", "label": "Bottom Left" },
        { "value": "bottom-right", "label": "Bottom Right" },
        { "value": "before", "label": "Before Section" },
        { "value": "after", "label": "After Section" },
        { "value": "none", "label": "Hide" }
      ],
      "default": "after"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "content_bg_color",
      "label": "Content Background Color",
      "default": "#f7f7fb"
    },
    {
      "type": "range",
      "id": "content_heading_size",
      "label": "Content Heading Size",
      "min": 16,
      "max": 40,
      "step": 1,
      "default": 22
    },
    {
      "type": "select",
      "id": "content_heading_weight",
      "label": "Content Heading Weight",
      "options": [
        { "value": "300", "label": "Light" },
        { "value": "400", "label": "Normal" },
        { "value": "600", "label": "Semi Bold" },
        { "value": "700", "label": "Bold" }
      ],
      "default": "700"
    },
    {
      "type": "color",
      "id": "content_heading_color",
      "label": "Content Heading Color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "content_text_size",
      "label": "Content Text Size",
      "min": 12,
      "max": 20,
      "step": 1,
      "default": 16
    },
    {
      "type": "color",
      "id": "content_text_color",
      "label": "Content Text Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_bg",
      "label": "Button Background",
      "default": "#ff5722"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button Text Color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "button_text_size",
      "label": "Button Text Size",
      "min": 12,
      "max": 20,
      "step": 1,
      "default": 16
    },
    {
      "type": "color",
      "id": "customer_service_bg",
      "label": "Customer Service Background",
      "default": "#f8f9fa"
    },
    {
      "type": "color",
      "id": "customer_service_accent",
      "label": "Customer Service Accent Color",
      "default": "#ff5722"
    },
    {
      "type": "range",
      "id": "customer_service_heading_size",
      "label": "Customer Service Heading Size",
      "min": 16,
      "max": 32,
      "step": 1,
      "default": 24
    },
    {
      "type": "color",
      "id": "customer_service_heading_color",
      "label": "Customer Service Heading Color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "customer_service_text_size",
      "label": "Customer Service Text Size",
      "min": 12,
      "max": 20,
      "step": 1,
      "default": 16
    },
    {
      "type": "color",
      "id": "customer_service_text_color",
      "label": "Customer Service Text Color",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "customer_service_button_bg",
      "label": "Customer Service Button Background",
      "default": "#ff5722"
    },
    {
      "type": "color",
      "id": "customer_service_button_text",
      "label": "Customer Service Button Text Color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "customer_service_button_size",
      "label": "Customer Service Button Text Size",
      "min": 12,
      "max": 20,
      "step": 1,
      "default": 16
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 52
    },
    {
      "type": "range",
      "id": "margin_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Margin Top",
      "default": 0
    },
    {
      "type": "range",
      "id": "margin_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Margin Bottom",
      "default": 0
    }
  ],
  "blocks": [
    {
      "type": "content_block",
      "name": "Content Item",
      "settings": [
        {
          "type": "image_picker",
          "id": "main_image",
          "label": "Main Image"
        },
        {
          "type": "select",
          "id": "image_position",
          "label": "Image Position",
          "options": [
            { "value": "left", "label": "Left" },
            { "value": "right", "label": "Right" }
          ],
          "default": "left"
        },
        {
          "type": "text",
          "id": "content_title",
          "label": "Content Title",
          "default": "From A to Z"
        },
        {
          "type": "textarea",
          "id": "content_text",
          "label": "Content Text",
          "default": "Photo Gifts! A picture paints a thousand words...give your gifts that personal touch."
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "Button Label",
          "default": "Discover our Range"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link"
        }
      ]
    },
    {
      "type": "customer_service_block",
      "name": "Customer Service Block",
      "settings": [
        {
          "type": "text",
          "id": "customer_service_heading",
          "label": "Heading",
          "default": "Customer Service"
        },
        {
          "type": "textarea",
          "id": "customer_service_text",
          "label": "Text",
          "default": "Just give us a call and our friendly customer service team can help guide you through the process. We can even create your gift for you if you don't have the time or inclination, all you need to do is send us your photos and one of our designers will do the rest... whatever you do, keep those precious memories alive."
        },
        {
          "type": "text",
          "id": "customer_service_button_label",
          "label": "Button Label",
          "default": "Contact Customer Care"
        },
        {
          "type": "url",
          "id": "customer_service_button_link",
          "label": "Button Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "List of Images & Texts",
      "blocks": [
        { 
          "type": "content_block" 
        },
        { 
          "type": "customer_service_block" 
        }
      ]
    }
  ]
}
{% endschema %}